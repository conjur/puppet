# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Resource types

* [`credential`](#credential): Manages Credential Manager credentials on Windows systems.

### Functions

* [`conjur::client`](#conjurclient): This function is a representation of a Conjur / DAP client with majority of the functionality that allows us to authenticate against a server
* [`conjur::secret`](#conjursecret): Function to retrieve a Conjur / DAP secret

## Resource types

### `credential`

Manages Credential Manager credentials on Windows systems.

#### Properties

The following properties are available in the `credential` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

##### `username`

The identity used to authenticate to the Conjur / DAP instance

##### `value`

The API key matching the Conjur / DAP identity

#### Parameters

The following parameters are available in the `credential` type.

##### `provider`

The specific backend to use for this `credential` resource. You will seldom need to specify this --- Puppet will usually
discover the appropriate provider for your platform.

##### `target`

Conjur / DAP URL

## Functions

### `conjur::client`

Type: Ruby 4.x API

This function is a representation of a Conjur / DAP client with majority
of the functionality that allows us to authenticate against a server.

#### `conjur::client(String $uri, Integer $version, String $cert)`

The conjur::client function.

Returns: `Class` Conjur client instance

##### `uri`

Data type: `String`

The URL of the Conjur or DAP instance.

##### `version`

Data type: `Integer`

Conjur API version.

##### `cert`

Data type: `String`

The _raw_ PEM-encoded x509 CA certificate chain for the DAP instance

#### `conjur::client(String $uri, Integer $version, Optional[Undef] $cert)`

The conjur::client function.

Returns: `Class` Conjur client instance

##### `uri`

Data type: `String`

The URL of the Conjur or DAP instance.

##### `version`

Data type: `Integer`

Conjur API version.

##### `cert`

Data type: `Optional[Undef]`

The _raw_ PEM-encoded x509 CA certificate chain for the DAP instance

### `conjur::secret`

Type: Ruby 4.x API

Function to retrieve a Conjur / DAP secret

#### Examples

##### Agent-based identity invocation

```puppet
Sensitive(Deferred(conjur::secret, ['production/postgres/password']))
```

##### Server-based identity invocation

```puppet
$sslcert = @("EOT")
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
|-EOT

$dbpass = Sensitive(Deferred(conjur::secret, ['production/postgres/password',
  "https://my.conjur.org",
  "myaccount",
  "host/myhost",
  Sensitive("2z9mndg1950gcx1mcrs6w18bwnp028dqkmc34vj8gh2p500ny1qk8n"),
  $sslcert
]))
```

#### `conjur::secret(String $variable_id, Optional[String] $appliance_url, Optional[String] $account, Optional[String] $authn_login, Optional[Sensitive] $authn_api_key, Optional[String] $ssl_certificate, Optional[String] $version)`

Function to retrieve a Conjur / DAP secret

Returns: `Sensitive` Value of the Conjur variable.

##### Examples

###### Agent-based identity invocation

```puppet
Sensitive(Deferred(conjur::secret, ['production/postgres/password']))
```

###### Server-based identity invocation

```puppet
$sslcert = @("EOT")
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
|-EOT

$dbpass = Sensitive(Deferred(conjur::secret, ['production/postgres/password',
  "https://my.conjur.org",
  "myaccount",
  "host/myhost",
  Sensitive("2z9mndg1950gcx1mcrs6w18bwnp028dqkmc34vj8gh2p500ny1qk8n"),
  $sslcert
]))
```

##### `variable_id`

Data type: `String`

Conjur / DAP variable ID that you want the value of.

##### `appliance_url`

Data type: `Optional[String]`

The URL of the Conjur or DAP instance..

##### `account`

Data type: `Optional[String]`

Name of the Conjur account that contains this variable.

##### `authn_login`

Data type: `Optional[String]`

The identity you are using to authenticate to the Conjur / DAP instance.

##### `authn_api_key`

Data type: `Optional[Sensitive]`

The API key of the identity you are using to authenticate with.

##### `ssl_certificate`

Data type: `Optional[String]`

The _raw_ PEM-encoded x509 CA certificate chain for the DAP instance.

##### `version`

Data type: `Optional[String]`

Conjur API version, defaults to 5.

